<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/stat.css">
    <link rel="stylesheet" href="assets/css/dashboard.css">
    <title>Dashboard</title>
    <style>

    </style>
</head>

<body>
    <div id="mySidebar" class="sidebar">

        <a href="/customer-info">Customer</a>
        <a href="/booking_table">Booking</a>
        <a href="/employees">Employees</a>
        <a href="/menu_item">Menu Items</a>
        <a href="/room-item">Room items</a>
        <a href="/room-price">Room Price</a>
        <a href="/room-management">Room Management</a>

        <a href="/new-employee">New Staff</a>
        <a href="/purchase">Purchase</a>


    </div>
    <button class="openbtn" onclick="toggleNav()"
        style="position: fixed!important; z-index: 5; top: 10px; left: 10px;">â˜° a</button>
    <button class="logout-btn" style="position: fixed!important; z-index: 5; top: 10px; right: 10px;">Logout</button>
    <main class="table">
        <div id="chart"></div>
    </main>
    <script>
        const chartDiv = document.getElementById('chart');
        const socket = new WebSocket('ws://localhost:8000/ws');

        socket.onmessage = (event) => {
            const data = JSON.parse(event.data);

            // Update the chart with new data
            updateChart(data.chartData);
        };

        function updateChart(newData) {
            chartDiv.innerHTML = '';

            // Create a simple bar chart
            newData.forEach((value) => {
                const bar = document.createElement('div');
                bar.style.height = `${value}px`; // Adjust the height as needed
                bar.className = 'bar';

                chartDiv.appendChild(bar);
            });
        }
    </script>
    <script src="assets/js/stat.js"></script>
    <script src="assets/js/dashboard.js"></script>
</body>

</html>